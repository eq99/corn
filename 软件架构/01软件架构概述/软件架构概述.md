# 软件架构

软件架构又称软件体系结构，是用来刻画软件系统整体抽象结构的一种手段。



# 软件架构的特征

- 注重可重用性，避免重零开始
- 利益关注者较多
- 关注点分离，分而治之，模块化。
- 质量驱动：可扩展性，可靠性。
- 概念完整性：用相似的方法做相似的事情。
- 循环风格：用标准的方法处理反复出现的问题。

# 模块化基本原则

- 职责单一：一个模块尽量只完成一个功能。
- 最低耦合：也就是不同模块之间的关联尽可能少。
- 尺度合适：粒度过大造成内部维护困难，过小会导致耦合增加。
- 模块调用链不能过深。
- 接口封装得好。
- 尽可能复用已有的模块。

# 常见的架构描述方法

- 形式化的架构描述方法：基于模型，代数方法，过程代数方法，基于逻辑的方法和基于网格的方法
- Kruchten 的 “4+1” 架构模型：从五个视角：逻辑视角，过程视角，物理视角开发视角和场景视角来描述软件架构。
- 使用 UML 的架构描述方法
- IEEE 的软件架构描述规范



# 软件架构分析

软件架构分析的目的是在系统被实际构造之前预测其质量属性，分为结构分析，功能分析，和非功能分析。



# 软件架构设计方法

- 工件驱动（artifact-driven）方法
- 用例驱动（use-case-driven）方法
- 模式驱动（patten0driven）方法
- 领域驱动（domain-driven）方法



# 架构发现、演化与复用

架构发现是从现有的软件系统中提取架构。

架构演化是由于系统的需求、环境、技术、分布等因素变化而导致的软件架构变动。

架构复用属于设计重用，比代码重用更抽象。

# 基于架构开发的模型

（1）需求完全确定的瀑布模型

（2）在开发阶段只能提供基本需求时采用的渐进式开发模型

（3）以形式化开发为基础的变换模型。

# 软件架构风格

（1）数据流风格：批处理，管道，过滤，适用于流水线。

（2）调用返回风格：主程序—子程序，面向对象，层次化，适用于组件内部功能设计。

（3）独立组件：进程通信、事件系统，

（4）虚拟机风格：解释器，基于规则的系统，适用于解释器，专家系统

（5）仓库风格：数据库系统、超文本系统、黑板系统

# 领域开发特征

（1）一个严格定义的问题域/解域

（2）具有普遍性，使其可以用于领域某个特定应用的开发

（3）对整个领域的适度抽象

（4）具有该领域固定的、典型的可复用元素。



第二章 软件架构的概念



# 组成派

组成派认为软件架构主要反应系统有哪些部分组成，以及这些部分是如何组成的，强调软件系统的整体结构和配置。组成派主要思想如下：

（1）Dewayne和 Alexander：软件架构={元素，组成，原理}

（2）1993年David：软件架构主要包括组件、连接件和约束。

（3）2011年IEEE：组件，组件之间的联系，组件与环境之间的联系

# 决策派

软件架构是一系列设计决策的集合，设计其实是开发人员的意志和决策在软件开发过程中的体现。

# 参考框架

软件架构一般由五种元素构成：组件、连接件、接口、角色、配置。



第三章 软件架构模型



# 软件架构建模的方法

（1）基于非规范化的图形表示建模

（2）基于UML建模的方法

（3）基于形式化的建模方法

（4）基于UML的形式化方法

（5）其他建模方法



# UML 表达几种类的关系

（1）关联关系：分为单项、双向关联与自关联，代码表现为成员变量

（2）聚合关系：是整体与部分的关系，且部分可以离开整体而单独存在，代码表现为成员变量。

（3）组合关系：是整体与部分的关系，但部分不能离开整体而单独存在。

（4）依赖关系：表现为参数传递

（5）继承关系：又称泛化关系。

（6）接口实现：

# UML 用例图

（1）用例：即系统的功能

（2）参与者：是系统外部的参与者，可以是用户、外部硬件、其他系统，

（3）关系： 关联，包含，扩展，泛化



# 软件架构的形式建模方法

（1）基于形式化规格说明语言的建模：Z语言，B语言，VDM，Petri 网。

（2）基于 UML 的形式化建模方法：



# 其他建模方法

（1）文本语言建模方法

（2）模型驱动方法



# 软件架构建模方法发展趋势

第0层，没有标准，模型存在于开发者大脑里

第1层，文本表达，用自然语言描述

第2层，文本和图，用文本加一些图形

第3层，模型和图，用建模语言描述的图来表达模型，用自然语言加以描述

第4层，精确的模型，没有歧义，直接映射到语言

第五层，只有模型，直接生成代码

